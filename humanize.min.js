function time(){return(new Date).getTime()/1E3}window.Humanize={};
function date(format,timestamp){var that=this,jsdate,f,formatChr=/\\?([a-z])/gi,formatChrCb,_pad=function(n,c){if((n=n+"").length<c)return(new Array(++c-n.length)).join("0")+n;return n},txt_words=["su","ma","ti","ke","to","pe","la","tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\u00e4kuu","hein\u00e4kuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"];formatChrCb=function(t,s){return f[t]?f[t]():s};f={d:function(){return _pad(f.j(),2)},D:function(){return f.l().slice(0,3)},j:function(){return jsdate.getDate()},
l:function(){var d=txt_words[f.w()];var ffd=[];ffd["ma"]="maanantai";ffd["ti"]="tiistai";ffd["ke"]="keskiviikko";ffd["to"]="torstai";ffd["pe"]="perjantai";ffd["la"]="lauantai";ffd["su"]="sunnuntai";return ffd[d]},N:function(){return f.w()||7},S:function(){var j=f.j();return"."},w:function(){return jsdate.getDay()},z:function(){var a=new Date(f.Y(),f.n()-1,f.j()),b=new Date(f.Y(),0,1);return Math.round((a-b)/864E5)+1},W:function(){var a=new Date(f.Y(),f.n()-1,f.j()-f.N()+3),b=new Date(a.getFullYear(),
0,4);return _pad(1+Math.round((a-b)/864E5/7),2)},F:function(){return txt_words[6+f.n()]},m:function(){return _pad(f.n(),2)},M:function(){return f.F().slice(0,3)},n:function(){return jsdate.getMonth()+1},t:function(){return(new Date(f.Y(),f.n(),0)).getDate()},L:function(){return(new Date(f.Y(),1,29)).getMonth()===1|0},o:function(){var n=f.n(),W=f.W(),Y=f.Y();return Y+(n===12&&W<9?-1:n===1&&W>9)},Y:function(){return jsdate.getFullYear()},y:function(){return(f.Y()+"").slice(-2)},a:function(){return jsdate.getHours()>
11?"pm":"am"},A:function(){return f.a().toUpperCase()},B:function(){var H=jsdate.getUTCHours()*3600,i=jsdate.getUTCMinutes()*60,s=jsdate.getUTCSeconds();return _pad(Math.floor((H+i+s+3600)/86.4)%1E3,3)},g:function(){return f.G()%12||12},G:function(){return jsdate.getHours()},h:function(){return _pad(f.g(),2)},H:function(){return _pad(f.G(),2)},i:function(){return _pad(jsdate.getMinutes(),2)},s:function(){return _pad(jsdate.getSeconds(),2)},u:function(){return _pad(jsdate.getMilliseconds()*1E3,6)},
I:function(){var a=new Date(f.Y(),0),c=Date.UTC(f.Y(),0),b=new Date(f.Y(),6),d=Date.UTC(f.Y(),6);return 0+(a-c!==b-d)},O:function(){var tzo=jsdate.getTimezoneOffset(),a=Math.abs(tzo);return(tzo>0?"-":"+")+_pad(Math.floor(a/60)*100+a%60,4)},P:function(){var O=f.O();return O.substr(0,3)+":"+O.substr(3,2)},Z:function(){return-jsdate.getTimezoneOffset()*60},c:function(){return"Y-m-d\\Th:i:sP".replace(formatChr,formatChrCb)},r:function(){return"D, d M Y H:i:s O".replace(formatChr,formatChrCb)},U:function(){return jsdate.getTime()/
1E3|0}};this.date=function(format,timestamp){that=this;jsdate=typeof timestamp==="undefined"?new Date:timestamp instanceof Date?new Date(timestamp):new Date(timestamp*1E3);return format.replace(formatChr,formatChrCb)};return this.date(format,timestamp)}
function number_format(number,decimals,dec_point,thousands_sep){var n=number,c=isNaN(decimals=Math.abs(decimals))?2:decimals;var d=dec_point==undefined?",":dec_point;var t=thousands_sep==undefined?".":thousands_sep,s=n<0?"-":"";var i=parseInt(n=Math.abs(+n||0).toFixed(c))+"",j=(j=i.length)>3?j%3:0;return s+(j?i.substr(0,j)+t:"")+i.substr(j).replace(/(\d{3})(?=\d)/g,"$1"+t)+(c?d+Math.abs(n-i).toFixed(c).slice(2):"")}
Humanize.apnumber=function(n){var strings=["yksi","kaksi","kolme","nelj\u00e4","viisi","kuusi","seits\u00e4m\u00e4n","kahdeksan","yhdeks\u00e4n"];var result=strings[parseInt(n)-1];return result!==undefined?result:n};Humanize.intcomma=function(number,decimals){decimals=decimals===undefined?0:decimals;return number_format(number,decimals,",",".")};
Humanize.intword=function(number){number=parseInt(number);if(number<1E6)return number;else if(number<100)return Humanize.intcomma(number,1);else if(number<1E3)return Humanize.intcomma(number/100,1)+" sataa";else if(number<1E5)return Humanize.intcomma(number/1E3,1)+" tuhatta";else if(number<1E6)return Humanize.intcomma(number/1E5,1)+" sataa tuhatta";else if(number<1E9)return Humanize.intcomma(number/1E6,1)+" miljoonaa";else if(number<1E12)return Humanize.intcomma(number/1E9,1)+" miljardia";else if(number<
1E15)return Humanize.intcomma(number/1E12,1)+" biljoonaa";return""+number};Humanize.processDate=function(timestamp){timestamp=timestamp===undefined?time():timestamp;if(parseInt(timestamp)<1E4)return Date.parse(timestamp)/1E3;return parseInt(timestamp)};
Humanize.naturalDay=function(timestamp,format){timestamp=Humanize.processDate(timestamp);var format=format===undefined?"d.m.Y":format;var oneday=60*60*24;var d=new Date;var today=(new Date(d.getFullYear(),d.getMonth(),d.getDate())).getTime()/1E3;var tomorrow=today+oneday;var end_tomorrow=tomorrow+oneday;var yesterday=today-oneday;if(timestamp>=yesterday&&timestamp<today)return"eilen";else if(timestamp>=today&&timestamp<tomorrow)return"t\u00e4n\u00e4\u00e4n";else if(timestamp>=tomorrow&&timestamp<
end_tomorrow)return"huomenna";else return date(format,timestamp)};
Humanize.naturalTime=function(timestamp,format){timestamp=Humanize.processDate(timestamp);format=format===undefined?"G:i":format;var now=time();var hour=60*60;var seconds,minutes,hours;if(Humanize.naturalDay(timestamp,format)==="t\u00e4n\u00e4\u00e4n"){var hourago=now-hour;var hourfromnow=now+hour;if(timestamp>hourago){if(timestamp>now){seconds=Math.round(timestamp-now);minutes=Math.round(seconds/60);if(minutes>60){hours=Math.round(minutes/60);return hours+" tunnin p\u00e4\u00e4st\u00e4"}else if(!minutes)if(seconds<=
10)return"juuri nyt";else return seconds+" sekunnin p\u00e4\u00e4st\u00e4";else if(minutes===1)return"minuutin p\u00e4\u00e4st\u00e4";else return minutes+" minuutin p\u00e4\u00e4st\u00e4"}seconds=Math.round(now-timestamp);minutes=Math.round(seconds/60);if(!minutes)if(seconds<=10)return"nyt";else return seconds+" sekunttia sitten";else if(minutes===1)return"minuutti sitten";else return minutes+" minuuttia sitten"}}return date(format,timestamp)};
Humanize.naturalDateTime=function(timestamp,format){if(Humanize.naturalDay(timestamp,format)==="t\u00e4n\u00e4\u00e4n")return Humanize.naturalTime(timestamp,format);else return Humanize.naturalDay(timestamp,format)+" "+Humanize.naturalTime(timestamp,format)};
Humanize.ordinal=function(value){return value+".";var number=parseInt(value);if(number===0)return value;var specialCase=number%100;if(specialCase===11||specialCase===12||specialCase===13)return number+"th";var leastSignificant=number%10;var end="";switch(leastSignificant){case 1:end="st";break;case 2:end="nd";break;case 3:end="rd";break;default:end="th";break}return number+end};
Humanize.filesizeformat=function(filesize){if(filesize>=1073741824)filesize=number_format(filesize/1073741824,2,",","")+" Gt";else if(filesize>=1048576)filesize=number_format(filesize/1048576,2,",","")+" Mt";else if(filesize>=1024)filesize=number_format(filesize/1024,0)+" Kt";else filesize=number_format(filesize,0)+" tavua";return filesize};Humanize.linebreaks=function(str){str=str.replace(/(\r\n|\n|\r){2}/gm,"</p><p>");str=str.replace(/(\r\n|\n|\r)/gm,"<br />");return"<p>"+str+"</p>"};
Humanize.linebreaksbr=function(str){return str.replace(/(\r\n|\n|\r)/gm,"<br />")};Humanize.pluralize=function(number,suffix1,suffix2){var singular="",plural="s";if(suffix2!==undefined){singular=suffix1;plural=suffix2}else if(suffix1!==undefined)plural=suffix1;return parseInt(number)===1?singular:plural};Humanize.truncatechars=function(string,length){if(string.length>length)return string.substr(0,length-1)+"\u2026";else return string};
Humanize.truncatewords=function(string,length){var array=string.split(" ");var result="";for(var i=0;i<length;i++){if(array[i]===undefined)break;result+=array[i];result+=" "}if(array.length>length)result+="\u2026";return result};